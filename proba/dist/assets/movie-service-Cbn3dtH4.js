import{r as l}from"./index-Z5IVg1gt.js";function f(){const[o,a]=l.useState(!1),[r,s]=l.useState(!1),v=l.useCallback(async(c,g="GET",d,p={"Content-type":"application/json"})=>{try{a(!0);const t=await fetch(c,{method:g,body:d,headers:p});if(!t.ok)throw new Error(`Could not fetch ${c}, status: ${t.status}`);return a(!1),await t.json()}catch(t){throw s(!0),t}},[]),n=l.useCallback(()=>s(null),[]);return{error:r,loading:o,request:v,clearError:n}}function b(){const o="https://api.themoviedb.org/3",a="language=en-US",r="api_key=6a08c92d3759b55bb33190ae86926505",s="https://image.tmdb.org/t/p/original",{request:n,loading:c,error:g,clearError:d}=f(),p=async(e=1)=>{const i=(await n(`${o}/movie/popular?${a}&page=${e}&${r}`)).results;return i&&i.map($=>_($))},t=async(e=1)=>{const i=(await n(`${o}/movie/top_rated?${a}&page=${e}&${r}`)).results;return i&&i.map($=>_($))},h=async e=>{const u=await n(`${o}/movie/${e}?${a}&${r}`);return _(u)},m=async()=>{const e=await p();return e[Math.floor(Math.random()*e.length)]},_=e=>({name:e.original_title,description:e.overview,backdrop_path:`${s}${e.backdrop_path}`,poster_path:`${s}${e.poster_path}`,id:e.id,release_date:e.release_date,vote_average:e.vote_average});return{loading:c,error:g,clearError:d,getPopularMovies:p,getDetailedMovie:h,getRandomMovie:m,getTrandingMovies:t}}export{b as u};
